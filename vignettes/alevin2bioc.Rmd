---
output:
  rmarkdown::html_document:
    highlight: pygments
    toc: true
    toc_depth: 3
    fig_width: 5
bibliography: "`r file.path(system.file(package='alevin2bioc', 'vignettes'), 'library.bib')`"
vignette: >
  %\VignetteIndexEntry{alevin2bioc}
  %\VignetteEngine{knitr::rmarkdown}
  %\VignetteEncoding[utf8]{inputenc}
---

# Tutorial for importing alevin scRNA-seq quantifications into R/Bioconductor

## Instructor(s) name(s) and contact information

[Michael Love](https://mikelove.github.io),
[Avi Srivastava](https://k3yavi.github.io)

## Introduction

*alevin* is a method for ... [@alevin]. It extends the methods in the
*Salmon* software [@salmon].

The data we will use is ... (citation).

## Running alevin

In order to run *alevin*, we must first ...

Instructions on downloading *alevin* can be found here ...

Instructions on indexing a set of reference transcripts can be found
here ...

## Importing alevin quantification with tximeta

We will use *tximeta* ... [@tximeta].

First we specify the path where the quantification data is stored. In
this tutorial, the data is stored in an R package, so we need to use
the `system.file` command. For typical use, you would not use
`system.file`, but would just specify the path to the directory of the
output from *alevin*. 

```{r}
# normally you just would use:
# dir <- "/path/to/alevin/output"
dir <- system.file("extdata/pbmc_1k", package="alevin2bioc")
```

```{r}
files <- file.path(dir, "alevin", "quants_mat.gz")
file.exists(files)
```

```{r}
library(tximeta)
se <- tximeta(files, type="alevin", alevinArgs=list(filterBarcodes=TRUE))
```

```{r}
library(SingleCellExperiment)
sce <- as(se, "SingleCellExperiment")
```

```{r}
library(org.Hs.eg.db)
sce <- addIds(sce, "SYMBOL")
```

```{r}
mcols(sce)
```

## Links for further reading

## References
